const m=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}};m();class d{constructor(s){this.position=s}update(s){}keyboard_event_down(s){}keyboard_event_up(s){}draw(s,e){}}class x extends d{draw(s,e){const t=(1/s).toFixed(2);e.font="25px Arial",e.fillStyle="white",e.fillText(`FPS: ${t}`,this.position.x,this.position.y)}}var w="/luiscabocastro-PokemonRush/assets/MapaJuegoPokemon.77d82073.png";class k extends d{constructor(s,e={w:1140,h:1380}){super(s),this.backgroundSize=e,this.backgroundImage=new Image,this.backgroundImage.src=w}draw(s,e){e.drawImage(this.backgroundImage,0,0,this.backgroundSize.w,this.backgroundSize.h)}}var g="/luiscabocastro-PokemonRush/assets/pikasprites.00bbbabb.png";class f extends d{constructor(s,e=0){super(s),this.pikachuSize=52,this.pikachuMove=30,this.maxSpeed=e,this.speed={x:e,y:0},this.imagePika=new Image,this.imagePika.src=g,this.sxParameters=[0,1,2],this.syParameters=[0,1,2,3,4],this.timer=0,this.xFrame=0,this.yFrame=0}update(s){this.pikachuMove+=.8;let e=this.position.x+this.speed.x*s;e<=1140-this.pikachuSize/2&&e>=this.pikachuSize/2&&(this.position.x=e);let t=this.position.y+this.speed.y*s;t<=1380-this.pikachuSize/2&&t>=this.pikachuSize/2&&(this.position.y=t),this.timer+=s,this.timer>=.08&&(this.xFrame=(this.xFrame+1)%3,this.timer=0),this.timer>=.08&&(this.yFrame=(this.yFrame+1)%4,this.timer=0)}draw(s,e){let t=this.position;this.maxSpeed=180,this.speed.x!=0&&this.speed.x<0,this.maxSpeed=180,this.speed.y!=0&&this.speed.y<0,e.translate(t.x,t.y),e.drawImage(this.imagePika,30*this.sxParameters[this.xFrame],36*this.syParameters[this.yFrame],30,36,-this.pikachuSize/2,-this.pikachuSize/2,this.pikachuSize,this.pikachuSize)}keyboard_event_down(s){switch(s){case"ArrowRight":console.log("right"),this.speed.y=0,this.speed.x=this.maxSpeed,this.yFrame=3;break;case"ArrowLeft":console.log("left"),this.speed.y=0,this.speed.x=-this.maxSpeed,this.yFrame=1;break;case"ArrowUp":console.log("up"),this.speed.x=0,this.speed.y=-this.maxSpeed,this.yFrame=2;break;case"ArrowDown":console.log("down"),this.speed.x=0,this.speed.y=this.maxSpeed,this.yFrame=0;break;default:console.log("not a valid key");break}}}var b="/luiscabocastro-PokemonRush/assets/ekansSprites.e2b4a32a.png";class i extends d{constructor(s,e,t){super(s),this.touched=!1,this.ekansSize=65,this.maxSpeed=e,this.speed={x:e,y:0},this.imageEkans=new Image,this.imageEkans.src=b,this.sxParameters=[0,1,2,0],this.timer=0,this.xFrame=0,this.actor=t}update(s){let e=this.actor.position,t=this.position,a=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),o=this.position.x+this.speed.x*s;this.position.x<0&&(o=1200),a<this.ekansSize&&(this.touched=!0),this.timer+=s,this.timer>=.1&&(this.xFrame=(this.xFrame+1)%3,this.timer=0),this.position.x=o}draw(s,e){let t=this.position;this.speed.x!=0&&this.speed.x<0,e.translate(t.x,t.y),this.touched||e.drawImage(this.imageEkans,50*this.sxParameters[this.xFrame],0,50,50,-this.ekansSize/2,-this.ekansSize/2,this.ekansSize,this.ekansSize)}}var S="/luiscabocastro-PokemonRush/assets/Baya_Meloc.bde6bc4d.png",P="/luiscabocastro-PokemonRush/assets/Baya_Oram.e866c049.png",F="/luiscabocastro-PokemonRush/assets/Baya_Safre.b53e8868.png",v="/luiscabocastro-PokemonRush/assets/Baya_Frambu.eb430a4e.png";class y extends d{constructor(s,e,t,a){super(e),this.touched=!1,this.actor=a,this.bayaSize=s,this.imageBaya=new Image,this.imageBaya.src=t}update(s){let e=this.actor.position,t=this.position;Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))<this.bayaSize&&(this.touched=!0)}draw(s,e){let t=this.position;e.translate(t.x,t.y),this.touched||e.drawImage(this.imageBaya,23,23,80,90,0,0,this.bayaSize,this.bayaSize)}}class z extends y{constructor(s,e){super(28,s,S,e)}}class B extends y{constructor(s,e){super(28,s,P,e)}}class _ extends y{constructor(s,e){super(28,s,F,e)}}class u extends y{constructor(s,e){super(28,s,v,e)}}window.onload=()=>{const r=document.getElementById("canvas"),s=r.getContext("2d");let e=new f({x:570,y:1290}),t=[new i({x:0,y:630},-100,e),new i({x:900,y:630},-200,e),new i({x:550,y:630},-200,e),new i({x:250,y:630},-200,e),new i({x:0,y:690},-100,e),new i({x:800,y:690},-100,e),new i({x:650,y:690},-200,e),new i({x:300,y:690},-150,e),new i({x:900,y:270},-200,e),new i({x:400,y:270},-200,e),new i({x:300,y:270},-150,e),new i({x:200,y:330},-200,e),new i({x:679,y:330},-200,e),new i({x:1e3,y:330},-100,e),new i({x:100,y:390},-200,e),new i({x:578,y:390},-100,e),new i({x:350,y:390},-150,e),new i({x:0,y:930},-200,e),new i({x:900,y:930},-200,e),new i({x:550,y:930},-100,e),new i({x:250,y:930},-150,e),new i({x:0,y:1110},-200,e),new i({x:700,y:1110},-100,e),new i({x:450,y:1110},-150,e),new i({x:200,y:1110},-200,e)],a=[new z({x:195,y:800},e),new B({x:322,y:150},e),new _({x:920,y:440},e),new u({x:950,y:920},e),new u({x:520,y:1020},e)],o=[new k({x:0,y:0}),new x({x:300,y:530}),...a,...t,e],n=0;const l=h=>{let c=(h-n)/1e3;n=h,o.forEach(p=>{p.update(c)}),s.clearRect(0,0,r.width,r.height),o.forEach(p=>{s.save(),p.draw(c,s),s.restore()}),window.requestAnimationFrame(l)};window.requestAnimationFrame(l),document.body.addEventListener("keydown",h=>{o.forEach(c=>{c.keyboard_event_down(h.key)})}),document.body.addEventListener("keyup",h=>{o.forEach(c=>{c.keyboard_event_up(h.key)})})};
